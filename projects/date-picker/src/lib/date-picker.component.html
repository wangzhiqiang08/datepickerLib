<div id="calendar" (clickOutside)="closeDateBox()" [style.width]="calendarWidth + 'px'">
  <div class="calendarInputBox" [style.width]="calendarWidth + 'px'">
    <div style="display:flex; flex-direction: column;">
      <input type="text" id='ipt' [style.width]="calendarWidth + 'px'" value="{{getDateDidplayFormat()}}" readonly>
      <div  class="bottomLine" [style.width]="calendarWidth + 'px'"></div>
    </div>
    
    <svg (click)="showCalendar()" class="icon" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path fill="rgb(0, 114, 163)" d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"></path>
      <rect fill="rgb(0, 114, 163)" x="8" y="14" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="14" y="14" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="20" y="14" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="26" y="14" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="8" y="19" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="14" y="19" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="20" y="19" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="26" y="19" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="8" y="24" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="14" y="24" width="2" height="2"></rect>
      <rect x="20" y="24" width="2" height="2"></rect>
      <rect fill="rgb(0, 114, 163)" x="26" y="24" width="2" height="2"></rect>
      <path fill="rgb(0, 114, 163)" d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"></path>
      <path fill="rgb(0, 114, 163)" d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"></path>
      <rect fill="rgb(0, 114, 163)" x="13" y="6" width="10" height="2"></rect>
    </svg>
  </div>
  
  <div  *ngIf="weekDayFormat && weekDayFormat.length == 7" class="container-calendar-box" [style.display]="isShowCalendar ? 'block' : 'none' ">
    <div [style.display]="isShowDateList ? 'block' : 'none'">
      <div class="month-year-change">
        <div class="month-year-display">
          <!-- <span (click)="showMonthList()">{{monthStrList[currentMonth-1].short}}</span> -->
          <span (click)="showMonthList()" *ngIf="currentMonth == 1">{{'month.list.short.jan' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 2">{{'month.list.short.feb' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 3">{{'month.list.short.mar' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 4">{{'month.list.short.apr' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 5">{{'month.list.short.may' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 6">{{'month.list.short.jun' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 7">{{'month.list.short.jul' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 8">{{'month.list.short.aug' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 9">{{'month.list.short.sep' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 10">{{'month.list.short.oct' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 11">{{'month.list.short.nov' | vtranslate}}</span>
          <span (click)="showMonthList()" *ngIf="currentMonth == 12">{{'month.list.short.dec' | vtranslate}}</span>
          <span (click)="showYearList()">{{currentYear}}</span>
        </div>
        <div class="change-button">
          <span (click)="preMonth()">
            <svg style="transform: rotate(-90deg);" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="rgb(0, 114, 163)" d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"></path>
            </svg>
          </span>
          <span>
            <svg (click)="gotoCurrentMonth()" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="rgb(0, 114, 163)" d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"></path>
              <path fill="rgb(0, 114, 163)" d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"></path>
              <path fill="rgb(0, 114, 163)" d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"></path>
              <path fill="rgb(0, 114, 163)" d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"></path>
              <rect x="13" y="6" width="10" height="2"></rect>
            </svg>
          </span>
          <span (click)="nextMonth()">
            <svg style="transform: rotate(90deg);" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="rgb(0, 114, 163)" d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"></path>
            </svg>
          </span>
        </div>
        
      </div>
      <div class="day-list" id="myTable">
        <div class="weekDayList">
          <!-- <span *ngFor="let weekDay of weekDayFormat">{{weekDay}}</span> -->
          <span *ngIf="startWithSundayOrMonday == 0 || startWithSundayOrMonday == '0'">{{'week.list.sunday' | vtranslate}}</span>
          <span>{{'week.list.monday' | vtranslate}}</span>
          <span>{{'week.list.tuesday' | vtranslate}}</span>
          <span>{{'week.list.wednesday' | vtranslate}}</span>
          <span>{{'week.list.thursday' | vtranslate}}</span>
          <span>{{'week.list.friday' | vtranslate}}</span>
          <span>{{'week.list.saturday' | vtranslate}}</span>
          <span *ngIf="startWithSundayOrMonday == 1 || startWithSundayOrMonday == '1'">{{'week.list.sunday' | vtranslate}}</span>
        </div>
        <div class="dayBox">
          <div class="row-list">
            <button (click)="clickDateHandel(item.date)"  *ngFor="let item of totalCurrentMonthDaysList">
              <span [style.display]="!selectedDate ? 'block' : 'none'" [ngClass]="{'notCurrentMonthDateStyle':!item.isCurrentMonth, 'currentDateBgcolor': item.isToday && item.isCurrentMonth && !selectedDate, 'currentDateFontWeight': item.isToday && item.isCurrentMonth}">
                {{item.date}}
              </span>
              <span [style.display]="selectedDate ? 'block' : 'none'" [ngClass]="{ 'selectedDateBgColor': item.isSelected, 'notCurrentMonthDateStyle':!item.isCurrentMonth, 'currentDateBgcolor': item.isToday && item.isCurrentMonth && !item.isSelected && !selectedDate, 'currentDateFontWeight': item.isToday && item.isCurrentMonth}">
                {{item.date}}
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  
    <div class="month-select-box" [style.display]="isShowMonthList ? 'block' : 'none'">
      <!-- <button (click)="clickMonthHandel(index+1)" [ngClass]="{'monthSelected': (index+1) == currentMonth}" *ngFor="let month of monthStrList; let index = index">{{month.long}}</button> -->
      <button (click)="clickMonthHandel(1)" [ngClass]="{'monthSelected': currentMonth == 1}">{{'month.list.long.jan' | vtranslate}}</button>
      <button (click)="clickMonthHandel(2)" [ngClass]="{'monthSelected': currentMonth == 2}">{{'month.list.long.feb' | vtranslate}}</button>
      <button (click)="clickMonthHandel(3)" [ngClass]="{'monthSelected': currentMonth == 3}">{{'month.list.long.mar' | vtranslate}}</button>
      <button (click)="clickMonthHandel(4)" [ngClass]="{'monthSelected': currentMonth == 4}">{{'month.list.long.apr' | vtranslate}}</button>
      <button (click)="clickMonthHandel(5)" [ngClass]="{'monthSelected': currentMonth == 5}">{{'month.list.long.may' | vtranslate}}</button>
      <button (click)="clickMonthHandel(6)" [ngClass]="{'monthSelected': currentMonth == 6}">{{'month.list.long.jun' | vtranslate}}</button>
      <button (click)="clickMonthHandel(7)" [ngClass]="{'monthSelected': currentMonth == 7}">{{'month.list.long.jul' | vtranslate}}</button>
      <button (click)="clickMonthHandel(8)" [ngClass]="{'monthSelected': currentMonth == 8}">{{'month.list.long.aug' | vtranslate}}</button>
      <button (click)="clickMonthHandel(9)" [ngClass]="{'monthSelected': currentMonth == 9}">{{'month.list.long.sep' | vtranslate}}</button>
      <button (click)="clickMonthHandel(10)" [ngClass]="{'monthSelected': currentMonth == 10}">{{'month.list.long.oct' | vtranslate}}</button>
      <button (click)="clickMonthHandel(11)" [ngClass]="{'monthSelected': currentMonth == 11}">{{'month.list.long.nov' | vtranslate}}</button>
      <button (click)="clickMonthHandel(12)" [ngClass]="{'monthSelected': currentMonth == 12}">{{'month.list.long.dec' | vtranslate}}</button>
    </div>
  
    <div class="year-select-box" [style.display]="isShowYearList ? 'block' : 'none'">
      <div style="display:flex; justify-content: center;width: 100%;">
        <div class="change-button">
          <span (click)="preMonthList()">
            <svg style="transform: rotate(-90deg);" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="rgb(0, 114, 163)" d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"></path>
            </svg>
          </span>
          <span>
            <svg (click)="gotoCurrentYear()" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="rgb(0, 114, 163)" d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"></path>
              <path fill="rgb(0, 114, 163)" d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"></path>
              <path fill="rgb(0, 114, 163)" d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"></path>
              <path fill="rgb(0, 114, 163)" d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"></path>
              <rect x="13" y="6" width="10" height="2"></rect>
            </svg>
          </span>
          <span (click)="nextMonthList()">
            <svg style="transform: rotate(90deg);" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill="rgb(0, 114, 163)" d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"></path>
            </svg>
          </span>
        </div>
      </div>
      <div style="height: 92%; display: flex; flex-direction: column; flex-wrap: wrap;">
        <button (click)="clickYearHandel(year)" [ngClass]="{'yearSelected': year == currentYear}" *ngFor="let year of yearStrList; let index = index">{{year}}</button>
      </div>
    </div>
  </div>
</div>
